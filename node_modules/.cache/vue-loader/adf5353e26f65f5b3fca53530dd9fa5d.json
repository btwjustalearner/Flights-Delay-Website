{"remainingRequest":"/Users/huangyan/Documents/GitHub/a5-null/travelwebsite/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/huangyan/Documents/GitHub/a5-null/travelwebsite/src/components/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/huangyan/Documents/GitHub/a5-null/travelwebsite/src/components/Home.vue","mtime":1575182023000},{"path":"/Users/huangyan/Documents/GitHub/a5-null/travelwebsite/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangyan/Documents/GitHub/a5-null/travelwebsite/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/huangyan/Documents/GitHub/a5-null/travelwebsite/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/huangyan/Documents/GitHub/a5-null/travelwebsite/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkJhckNoYXJ0IiwKICAgIG1vdW50ZWQoKXsKCiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlWmVyb1ZhbHVlKGFycil7CiAgICAgICAgICAgIHZhciBuZXdBcnI9W107CiAgICAgICAgICAgIGFyci5mb3JFYWNoKAogICAgICAgICAgICAgICAgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVbJ0FSUl9ERUxBWSddPjApewogICAgICAgICAgICAgICAgICAgICAgICBuZXdBcnIucHVzaChlKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuIG5ld0FycjsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZ3JvdXBCeSggYXJyYXkgLCBmICkgewogICAgICAgICAgICBsZXQgZ3JvdXBzID0ge307CiAgICAgICAgICAgIGFycmF5LmZvckVhY2goIGZ1bmN0aW9uKCBvICkgewogICAgICAgICAgICAgICAgbGV0IGdyb3VwID0gSlNPTi5zdHJpbmdpZnkoIGYobykgKTsKICAgICAgICAgICAgICAgIGdyb3Vwc1tncm91cF0gPSBncm91cHNbZ3JvdXBdIHx8IFtdOwogICAgICAgICAgICAgICAgZ3JvdXBzW2dyb3VwXS5wdXNoKCBvICk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZ3JvdXBzKS5tYXAoIGZ1bmN0aW9uKCBncm91cCApIHsKICAgICAgICAgICAgICAgIHJldHVybiBncm91cHNbZ3JvdXBdOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZDMuY3N2KCcuL2RhdGEvRmxpZ2h0cy5jc3YnLGZ1bmN0aW9uKGQpewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgREVTVF9BSVJQT1JUX0lEOitkLkRFU1RfQUlSUE9SVF9JRCwKICAgICAgICAgICAgICAgIEFSUl9ERUxBWTorZC5BUlJfREVMQVkKICAgICAgICAgICAgfTsKICAgICAgICB9KS50aGVuKAogICAgICAgICAgICBmdW5jdGlvbihkYXRhKXsKICAgICAgICAgICAgICAgIHZhciBkYXRhUHJvY2Vzc2VkPXJlbW92ZVplcm9WYWx1ZShkYXRhKTsKICAgICAgICAgICAgICAgIHZhciBzb3J0ZWQgPSBncm91cEJ5KGRhdGFQcm9jZXNzZWQsIGZ1bmN0aW9uKGl0ZW0pewogICAgICAgICAgICAgICAgICAgIHJldHVybiBbaXRlbS5ERVNUX0FJUlBPUlRfSURdOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2YXIgY291bnQ9MC4wOwogICAgICAgICAgICAgICAgdmFyIGRhdGFHcm91cD1uZXcgQXJyYXkoKQogICAgICAgICAgICAgICAgdmFyIGRpYz1uZXcgQXJyYXkoKQogICAgICAgICAgICAgICAgc29ydGVkLmZvckVhY2goCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50PTAKICAgICAgICAgICAgICAgICAgICAgICAgZS5mb3JFYWNoKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24obSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ9Y291bnQrbVsnQVJSX0RFTEFZJ107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgZGljPVtdCiAgICAgICAgICAgICAgICAgICAgICAgIGRpY1snREVTVF9BSVJQT1JUX0lEJ109ZVswXVsnREVTVF9BSVJQT1JUX0lEJ10KICAgICAgICAgICAgICAgICAgICAgICAgZGljWydDb3VudCddPWNvdW50CiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFHcm91cC5wdXNoKGRpYykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCgoKCgoKICAgICAgICAgICAgICAgIHZhciB4U2NhbGUgPSBkMy5zY2FsZUJhbmQoKQogICAgICAgICAgICAgICAgICAgIC5yb3VuZCh0cnVlKQogICAgICAgICAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoMC4wNSk7CgogICAgICAgICAgICAgICAgeFNjYWxlLmRvbWFpbihkYXRhR3JvdXAubWFwKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuREVTVF9BSVJQT1JUX0lEOwogICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFswLCAxNTAwXSk7CiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0PTcwMDsKICAgICAgICAgICAgICAgIHZhciB5U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpOwogICAgICAgICAgICAgICAgdmFyIG1heG51bT0wCiAgICAgICAgICAgICAgICB2YXIgbWlubnVtPTEwMDAwMDAwCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7aTxkYXRhR3JvdXAubGVuZ3RoO2krKyl7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFHcm91cFtpXVsnQ291bnQnXT5tYXhudW0pewogICAgICAgICAgICAgICAgICAgICAgICBtYXhudW09ZGF0YUdyb3VwW2ldWydDb3VudCddCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhR3JvdXBbaV1bJ0NvdW50J108bWlubnVtKXsKICAgICAgICAgICAgICAgICAgICAgICAgbWlubnVtPWRhdGFHcm91cFtpXVsnQ291bnQnXQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB5U2NhbGUuZG9tYWluKFttaW5udW0sbWF4bnVtXSkKICAgICAgICAgICAgICAgICAgICAucmFuZ2UoWzEwMCxoZWlnaHRdKTsKICAgICAgICAgICAgICAgIGRhdGFHcm91cC5mb3JFYWNoKGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHlTY2FsZShlLkNvdW50KSkKICAgICAgICAgICAgICAgIH0pCgoKCgoKICAgICAgICAgICAgICAgIHZhciB5QXhpcyA9IGQzLmF4aXNMZWZ0KCkKICAgICAgICAgICAgICAgICAgICAuc2NhbGUoeVNjYWxlKTsKICAgICAgICAgICAgICAgIGQzLnNlbGVjdCgiI2NoYXJ0IikuYXBwZW5kKCdnJykKICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneSBheGlzJykKICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg3MCwnICs1MCAgKyAnKScpCiAgICAgICAgICAgICAgICAgICAgLmNhbGwoeUF4aXMpOwoKCiAgICAgICAgICAgICAgICB2YXIgeEF4aXMgPSBkMy5heGlzQm90dG9tKCkKICAgICAgICAgICAgICAgICAgICAuc2NhbGUoeFNjYWxlKTsKCiAgICAgICAgICAgICAgICBkMy5zZWxlY3QoIiNjaGFydCIpLmFwcGVuZCgnZycpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3ggYXhpcycpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICtoZWlnaHQgICsgJyknKQogICAgICAgICAgICAgICAgICAgIC5jYWxsKHhBeGlzKTsKCiAgICAgICAgICAgICAgICBkMy5zZWxlY3QoIiNjaGFydCIpCiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgiZGl2IikKICAgICAgICAgICAgICAgICAgICAuZGF0YShkYXRhR3JvdXApCiAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkKICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCdyZWN0JykKICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCdyZWN0JykKICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsZnVuY3Rpb24oZCl7cmV0dXJuIHhTY2FsZShkLkRFU1RfQUlSUE9SVF9JRCl9KQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JyxmdW5jdGlvbihkKXtyZXR1cm4gaGVpZ2h0LXlTY2FsZShkLkNvdW50KX0pCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsZnVuY3Rpb24oZCl7cmV0dXJuIHlTY2FsZShkLkNvdW50KX0pCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJyw1KQogICAgICAgICAgICAgICAgICAgIC5zdHlsZSgiZmlsbCIsImxpZ2h0cGluayIpOwoKCiAgICAgICAgICAgICAgICBkMy5zZWxlY3QoIiNjaGFydCIpLnNlbGVjdEFsbCgnZGl2JykKICAgICAgICAgICAgICAgICAgICAuZGF0YShkYXRhR3JvdXAsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLkRFU1RfQUlSUE9SVF9JRDsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5lbnRlcigpCiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpCiAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuREVTVF9BSVJQT1JUX0lEOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2FjJykKICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4U2NhbGUoZC5ERVNUX0FJUlBPUlRfSUQpICsgeFNjYWxlLmJhbmR3aWR0aCgpIC8gMi0xMDsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgIGZ1bmN0aW9uKGQpe3JldHVybiBoZWlnaHQteVNjYWxlKGQuQ291bnQpfQogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsJzAnKQoKICAgICAgICAgICAgfQogICAgICAgICkKICAgIH0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"barchart\">\n        <svg id=\"chart\" height=800 width=1500></svg>\n    </div>\n</template>\n\n<script>\n    import * as d3 from 'd3';\n    export default {\n        name: \"BarChart\",\n        mounted(){\n\n            function removeZeroValue(arr){\n                var newArr=[];\n                arr.forEach(\n                    function(e){\n                        if (e['ARR_DELAY']>0){\n                            newArr.push(e)\n                        }\n                    }\n                );\n                return newArr;\n            }\n            function groupBy( array , f ) {\n                let groups = {};\n                array.forEach( function( o ) {\n                    let group = JSON.stringify( f(o) );\n                    groups[group] = groups[group] || [];\n                    groups[group].push( o );\n                });\n                return Object.keys(groups).map( function( group ) {\n                    return groups[group];\n                });\n            }\n            d3.csv('./data/Flights.csv',function(d){\n                return {\n                    DEST_AIRPORT_ID:+d.DEST_AIRPORT_ID,\n                    ARR_DELAY:+d.ARR_DELAY\n                };\n            }).then(\n                function(data){\n                    var dataProcessed=removeZeroValue(data);\n                    var sorted = groupBy(dataProcessed, function(item){\n                        return [item.DEST_AIRPORT_ID];\n                    });\n                    var count=0.0;\n                    var dataGroup=new Array()\n                    var dic=new Array()\n                    sorted.forEach(\n                        function(e){\n                            count=0\n                            e.forEach(\n                                function(m){\n                                    count=count+m['ARR_DELAY'];\n                                }\n                            )\n                            dic=[]\n                            dic['DEST_AIRPORT_ID']=e[0]['DEST_AIRPORT_ID']\n                            dic['Count']=count\n                            dataGroup.push(dic)\n                        }\n                    )\n\n\n\n\n\n                    var xScale = d3.scaleBand()\n                        .round(true)\n                        .paddingInner(0.05);\n\n                    xScale.domain(dataGroup.map(function (d) {\n                        return d.DEST_AIRPORT_ID;\n                    }))\n                        .range([0, 1500]);\n                    var height=700;\n                    var yScale = d3.scaleLinear();\n                    var maxnum=0\n                    var minnum=10000000\n                    for (var i=0;i<dataGroup.length;i++){\n                        if (dataGroup[i]['Count']>maxnum){\n                            maxnum=dataGroup[i]['Count']\n                        }\n                        if (dataGroup[i]['Count']<minnum){\n                            minnum=dataGroup[i]['Count']\n                        }\n                    }\n\n                    yScale.domain([minnum,maxnum])\n                        .range([100,height]);\n                    dataGroup.forEach(function(e){\n                        console.log(yScale(e.Count))\n                    })\n\n\n\n\n\n                    var yAxis = d3.axisLeft()\n                        .scale(yScale);\n                    d3.select(\"#chart\").append('g')\n                        .attr('class', 'y axis')\n                        .attr('transform', 'translate(70,' +50  + ')')\n                        .call(yAxis);\n\n\n                    var xAxis = d3.axisBottom()\n                        .scale(xScale);\n\n                    d3.select(\"#chart\").append('g')\n                        .attr('class', 'x axis')\n                        .attr('transform', 'translate(0,' +height  + ')')\n                        .call(xAxis);\n\n                    d3.select(\"#chart\")\n                        .selectAll(\"div\")\n                        .data(dataGroup)\n                        .enter()\n                        .append('rect')\n                        .attr('class','rect')\n                        .attr('x',function(d){return xScale(d.DEST_AIRPORT_ID)})\n                        .attr('y',function(d){return height-yScale(d.Count)})\n                        .attr('height',function(d){return yScale(d.Count)})\n                        .attr('width',5)\n                        .style(\"fill\",\"lightpink\");\n\n\n                    d3.select(\"#chart\").selectAll('div')\n                        .data(dataGroup, function (d) {\n                            return d.DEST_AIRPORT_ID;\n                        })\n                        .enter()\n                        .append('text')\n                        .text(function (d) {\n                            return d.DEST_AIRPORT_ID;\n                        })\n                        .attr('class', 'ac')\n                        .attr('x', function (d) {\n                            return xScale(d.DEST_AIRPORT_ID) + xScale.bandwidth() / 2-10;\n                        })\n                        .attr('y',  function(d){return height-yScale(d.Count)}\n                        )\n                        .attr('opacity','0')\n\n                }\n            )\n        }\n    }\n</script>\n\n<style>\n    .ac:hover{\n        opacity:1;\n    }\n</style>"]}]}